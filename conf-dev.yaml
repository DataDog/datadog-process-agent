log_level: debug

api_key: API_KEY
process_agent_enabled: true
incremental_publishing_enabled: true
process_config:
  enabled: 'true'

  # Use this when running process agent locally
  #process_dd_url: http://localhost:7077/stsAgent

  # Use this when running process agent in the vagrant vms
  process_dd_url: http://192.168.56.1:7077/stsAgent

  # Use this when running process agent with branch deploy
  #process_dd_url: https://<branch-name>.test.stackstate.io/stsAgent

  queue_size: 10
  intervals:
    container: 8
    process: 5
    connections: 5
  process_blacklist:
    # A list of regex patterns that will exclude a process if matched.
    patterns:
      # Linux Specific patterns
      # stress is used for molecule testing
      - "stress"
      - "^-bash"
      - "^su$"
      - "^/bin/bash"
      - "^/lib/systemd/"
      - "^pickup"
      - "^/sbin/"
      - "^qmgr"
      - "^sshd:"
      - "^/usr/bin/bash"
      - "^/usr/bin/dbus-daemon"
      - "^/usr/bin/vi(?:m|m.basic)?$"
      - "^/usr/bin/tail"
      - "^/usr/lib/systemd/"
      - "^/usr/sbin/"
      - "^\\(sd-pam\\)"
      # Windows Specific patterns
      - "cmd.exe"
      - "conhost.exe"
      - "DllHost.exe"
      - "dwm.exe"
      - "Explorer.EXE"
      - "lsass.exe"
      - "msdtc.exe"
      - "SearchUI.exe"
      - "sihost.exe"
      - "smartscreen.exe"
      - "svchost.exe"
      - "taskhostw.exe"
      - "tasklist.exe"
      - "VBoxService.exe"
      - "vim.exe"
      - "wininit.exe"
      - "winlogon.exe"
      - "wlms.exe"
      - "wmiprvse.exe"
      - "sshd.exe"
      # Should be ignored, but gets reported with an empty command line
      #- "sppsvc.exe"
      #- "services.exe"
      #- "csrss.exe"
      #- "wininit.exe"
      #- "System"
      #- "smss.exe"
    # Process blacklist inclusions for top resource using processes
    inclusions:
      amount_top_cpu_pct_usage: 3
      cpu_pct_usage_threshold: 20
      amount_top_io_read_usage: 3
      amount_top_io_write_usage: 3
      amount_top_mem_usage: 3
      mem_usage_threshold: 35
network_tracer_config:
  network_tracing_enabled: 'true'
  initial_connections_from_proc: 'true'
